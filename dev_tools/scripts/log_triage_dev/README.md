# LogTriage

LogTriage is a modern, feature-rich desktop application for engineers and verification teams to efficiently analyze, triage, and manage large volumes of simulation and compilation log files. Built with PyQt5, it provides an interactive, user-friendly interface for quickly identifying, filtering, and categorizing errors, warnings, and fatal messages from log files generated by EDA tools or similar workflows.

Key features include advanced filtering and searching, multi-column sorting, exclusion management (per-row and per-message), per-row comments, summary statistics, and rich data visualizations (pie charts, grouped bar charts). The tool supports both plain and gzipped log files, robust export and session management, dark mode, and extensive keyboard shortcuts for productivity.

LogTriage streamlines the log review process, making it easier to focus on critical issues, collaborate with team members, and generate actionable reports from complex log data.

-------------------------------------------------------------------------------------------------------------------------------------------

# Documentation

For full documentation, see:
https://confluence.microchip.com/display/MPU/Log+Triage+Tool

-------------------------------------------------------------------------------------------------------------------------------------------

Example Log Path

/home/data/mpu32_simulation/MUSTANG_ST012_A0/simulation_logs/MUSTANG_ST012_A0_HPP_ISS_RTL7_ECO0/RTL_rtl7_eco0_Regression_06_27_2025/max/

-------------------------------------------------------------------------------------------------------------------------------------------

# Installation

## Prerequisites

   - Python 3.7+
   - PyQt5
   - matplotlib
   - psutil

## Install dependencies

   - pip3 install PyQt5 matplotlib psutil

## Prepare Patterns Files

   - Ensure you have a pattern/regex_patterns.json file in the same directory as the main script. This file defines the regex patterns for ERROR, WARNING, and FATAL messages.
   - Optionally, you can also use a pattern/ignore_patterns.json file to specify patterns to ignore.

-------------------------------------------------------------------------------------------------------------------------------------------

# How to Use

## How to Run
   - bsub -R "rUsage[RAM=10000]" python3 logtriage.py &

## Load Log Files
   - Go to File > Load Log Folder (Ctrl+O) and select the directory containing your simulate.log and/or compile.log files (supports .log and .log.gz).

## Browse and Analyze
   - View parsed log messages in the main table.
   - Use the filter boxes below each column header to filter by text, regex, or numeric range.
   - Click column headers to sort; Shift+Click for multi-column sorting.

## Search and Find
   - Press Ctrl+F or use Edit > Find to search for messages (supports regex).

## Manage Exclusions
   - Select rows and use Exclusion > Exclude [This ROW only] (Ctrl+X) or Exclude [ALL ROW with this message] (Ctrl+U) to exclude messages.
   - View, import, export, or clear the exclusion list from the Exclusion menu.
   - Toggle to show only excluded or non-excluded rows.

## Add Comments
   - Double-click the Comments column to add or edit notes for any row.
   - Comments are saved and loaded with session files.

## Export Data
   - Export filtered rows to JSON via File > Export to JSON (Ctrl+E).
   - Export summary tables or exclusion lists from their respective menus.

## Visualize
   - Use Summary > Open Visualization Window (Ctrl+T) to view pie charts and grouped bar charts.
   - Export charts as images if needed.

## Session Management
   - Save your current session (including comments and exclusions) via File > Save Session.
   - Load a previous session from the same menu.

## Customize and Get Help
   - Toggle dark mode in Settings.
   - Show/hide columns in the Columns menu.
   - See all keyboard shortcuts and features in the Help menu.

-------------------------------------------------------------------------------------------------------------------------------------------

# Features

## Log File Loading
   - Load and parse simulation/compile log files (.log, .log.gz) from folders (recursive search).
   - Supports both simulate.log and compile.log files.
   - Progress bar and status messages for long operations.
   - Recent folders menu for quick access.

## Tabular Log View
   - Display log messages in a table with columns: ID, Test Case, Test Option, Type, Count, Message, Log Type, Log File Path, Line Number, Excluded, Comments.
   - Double-click a row to open the corresponding log file in an external editor (e.g., gvim).

## Filtering and Sorting
   - Per-column filtering: supports text, regex, numeric, and exclusion status filters.
   - Multi-column sorting: Shift+Click on headers to sort by multiple columns.

## Find and Highlight
   - Find dialog with regex support and row highlighting.

## Exclusion List Management
   - Add messages to an exclusion list (per-row or per-message).
   - View, import, export, and clear the exclusion list.
   - Visual indication for excluded rows.
   - Filter to show only excluded or only non-excluded rows.

## Comments
   - Add per-row comments (editable, multi-line, persistent).
   - Comments are saved and loaded with session files.
   - View all comments in a dedicated dialog.

## Export and Import
   - Export filtered rows to JSON.
   - Export summary table to JSON.
   - Export exclusion list to JSON.
   - Import exclusion list from JSON.
   - Export charts as images.

## Session Management
   - Save/load session (including comments and exclusions) for later review or sharing.

## Summary and Statistics
   - Summary dialog: per-testcase/testopt counts for ERROR, FATAL, WARNING (total and unique).
   - Quick menu option to display current filtered row count and unique count in the status bar.

## Visualization
   - Pie chart: Distribution of error types.
   - Grouped bar chart: Error/Fatal/Warning counts by test case.
   - Export all charts as images.

## User Interface and Usability
   - Modern look with rounded corners, drop shadows, and dark mode toggle.
   - Keyboard shortcuts for all major actions (see Help > Shortcut Keys).
   - Status bar shows current row count, unique count, and error statistics.
   - Progress bar and status messages for long operations.
   - Memory usage warning for large datasets.

## Robustness and Help
   -  Robust error handling and logging (errors are logged to log/log_triage_process.log).
  -  Help menu with shortcut keys, features, and author info.

## Patterns File Format
   - pattern/regex_patterns.json should be a JSON file with a list of objects, each having "Type" and "Regex" keys, e.g.:
    pattern/ignore_patterns.json is a list of regex strings or objects with a "Regex" key.

-------------------------------------------------------------------------------------------------------------------------------------------

--------------------------------------------------------------------------------------------------------------
# Known Issues
--------------------------------------------------------------------------------------------------------------

- Issue in Large file loading
  /home/data/mpu32_simulation/simulation_logs/MUSTANG_ST012_A0_HPP_PSS_rtl5p2_eco0/RTL_2025_06_12/max/puf-UPF_ALLON_PUFON_2-CPU600_MSS200_DDR800_ISS266-ID2800345-20250612T152452Z/simulate.log

- Patterns
  - License issue (Need to take care)
  - GLS regression error needs to take care
  - Downgraded error needs to be removed from the table (by default some .csv will handle it)

--------------------------------------------------------------------------------------------------------------
